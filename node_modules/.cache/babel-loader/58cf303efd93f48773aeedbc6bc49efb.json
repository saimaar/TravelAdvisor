{"ast":null,"code":"var _jsxFileName = \"/Users/valentinemaillard/Desktop/Development/Projects/Travel_Advisor_frontend/src/ProfileComponents/ProfileContainer.jsx\";\nimport React, { Component } from 'react';\nimport PhotoCard from './PhotoCard';\nimport BucketlistContainer from './BucketlistContainer';\nimport { Image } from 'semantic-ui-react';\n\nclass ProfileContainer extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {};\n\n    this.deleteBucketItem = deletedId => {\n      fetch(`http://localhost:4000/add_joiners/${deletedId}`, {\n        method: \"DELETE\"\n      }).then(r => r.json()).then(deletedItem => {\n        let newBucketListArr = this.state.bucketlist.filter(bucketlistItem => bucketlistItem.id !== deletedItem.id);\n        this.setState({ ...this.state,\n          bucketlist: newBucketListArr\n        });\n      });\n    };\n\n    this.deleteProfile = userId => {\n      fetch(`http://localhost:4000/users/${userId}`, {\n        method: \"DELETE\"\n      }).then(r => r.json()).then(deletedUser => {\n        this.setState({ ...this.state\n        });\n        localStorage.clear();\n        this.props.routerProps.history.push(\"/\");\n      });\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:4000/profile', {\n      headers: {\n        \"Authorization\": `bearer ${localStorage.token}`\n      }\n    }).then(r => r.json()).then(user => {\n      this.setState({ ...user\n      });\n    });\n  }\n\n  render() {\n    let {\n      bucketlist\n    } = this.state;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(Image, {\n      className: \"profile-cover-photo\",\n      src: \"https://www.katikiesmykonos.com/wp-content/uploads/2019/09/drz_katikies-mykonos_q1a0346.jpg\",\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), React.createElement(PhotoCard, {\n      profile_info: this.state,\n      deleteProfile: this.deleteProfile,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(BucketlistContainer, {\n      bucketlist: bucketlist,\n      routerProps: this.props.routerProps,\n      deleteBucketItem: this.deleteBucketItem,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default ProfileContainer;","map":{"version":3,"sources":["/Users/valentinemaillard/Desktop/Development/Projects/Travel_Advisor_frontend/src/ProfileComponents/ProfileContainer.jsx"],"names":["React","Component","PhotoCard","BucketlistContainer","Image","ProfileContainer","state","deleteBucketItem","deletedId","fetch","method","then","r","json","deletedItem","newBucketListArr","bucketlist","filter","bucketlistItem","id","setState","deleteProfile","userId","deletedUser","localStorage","clear","props","routerProps","history","push","componentDidMount","headers","token","user","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;AACA,SAASC,KAAT,QAAsB,mBAAtB;;AAEA,MAAMC,gBAAN,SAA+BJ,SAA/B,CAAyC;AAAA;AAAA;AAAA,SAEvCK,KAFuC,GAEjC,EAFiC;;AAAA,SAoBvCC,gBApBuC,GAoBnBC,SAAD,IAAe;AAChCC,MAAAA,KAAK,CAAE,qCAAoCD,SAAU,EAAhD,EAAmD;AAC9CE,QAAAA,MAAM,EAAE;AADsC,OAAnD,CAAL,CAGOC,IAHP,CAGYC,CAAC,IAAIA,CAAC,CAACC,IAAF,EAHjB,EAIOF,IAJP,CAIYG,WAAW,IAAI;AACjB,YAAIC,gBAAgB,GAAG,KAAKT,KAAL,CAAWU,UAAX,CAAsBC,MAAtB,CAA6BC,cAAc,IAAIA,cAAc,CAACC,EAAf,KAAsBL,WAAW,CAACK,EAAjF,CAAvB;AAEA,aAAKC,QAAL,CAAc,EACZ,GAAG,KAAKd,KADI;AAEZU,UAAAA,UAAU,EAAED;AAFA,SAAd;AAIH,OAXP;AAYD,KAjCsC;;AAAA,SAmCvCM,aAnCuC,GAmCtBC,MAAD,IAAY;AAC1Bb,MAAAA,KAAK,CAAE,+BAA8Ba,MAAO,EAAvC,EAA0C;AAC7CZ,QAAAA,MAAM,EAAE;AADqC,OAA1C,CAAL,CAGCC,IAHD,CAGOC,CAAC,IAAIA,CAAC,CAACC,IAAF,EAHZ,EAICF,IAJD,CAIMY,WAAW,IAAI;AACnB,aAAKH,QAAL,CAAc,EACZ,GAAG,KAAKd;AADI,SAAd;AAGAkB,QAAAA,YAAY,CAACC,KAAb;AACA,aAAKC,KAAL,CAAWC,WAAX,CAAuBC,OAAvB,CAA+BC,IAA/B,CAAoC,GAApC;AACD,OAVD;AAWD,KA/CsC;AAAA;;AAMvCC,EAAAA,iBAAiB,GAAG;AAClBrB,IAAAA,KAAK,CAAC,+BAAD,EAAkC;AACrCsB,MAAAA,OAAO,EAAE;AACP,yBAAkB,UAASP,YAAY,CAACQ,KAAM;AADvC;AAD4B,KAAlC,CAAL,CAKCrB,IALD,CAKMC,CAAC,IAAIA,CAAC,CAACC,IAAF,EALX,EAMCF,IAND,CAMMsB,IAAI,IAAI;AACZ,WAAKb,QAAL,CAAc,EACZ,GAAGa;AADS,OAAd;AAGD,KAVD;AAWD;;AA+BDC,EAAAA,MAAM,GAAG;AAEP,QAAI;AAAElB,MAAAA;AAAF,QAAiB,KAAKV,KAA1B;AAEA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAC,qBAAjB;AAAuC,MAAA,GAAG,EAAC,6FAA3C;AAAyI,MAAA,GAAG,EAAC,EAA7I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE,oBAAC,SAAD;AAAW,MAAA,YAAY,EAAE,KAAKA,KAA9B;AAAqC,MAAA,aAAa,EAAE,KAAKe,aAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAGE,oBAAC,mBAAD;AAAqB,MAAA,UAAU,EAAEL,UAAjC;AAA6C,MAAA,WAAW,EAAE,KAAKU,KAAL,CAAWC,WAArE;AAAkF,MAAA,gBAAgB,EAAE,KAAKpB,gBAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHF,CADF;AAOD;;AA5DsC;;AAgEzC,eAAeF,gBAAf","sourcesContent":["import React, { Component } from 'react';\nimport PhotoCard from './PhotoCard'\nimport BucketlistContainer from './BucketlistContainer'\nimport { Image } from 'semantic-ui-react'\n\nclass ProfileContainer extends Component {\n\n  state={\n\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:4000/profile', {\n      headers: {\n        \"Authorization\": `bearer ${localStorage.token}`\n      }\n    })\n    .then(r => r.json())\n    .then(user => {\n      this.setState({\n        ...user\n      })\n    })\n  }\n\n  deleteBucketItem = (deletedId) => {\n    fetch(`http://localhost:4000/add_joiners/${deletedId}`, {\n              method: \"DELETE\"\n          })\n          .then(r => r.json())\n          .then(deletedItem => {\n              let newBucketListArr = this.state.bucketlist.filter(bucketlistItem => bucketlistItem.id !== deletedItem.id)\n\n              this.setState({\n                ...this.state,\n                bucketlist: newBucketListArr\n              })\n          })\n  }\n\n  deleteProfile = (userId) => {\n    fetch(`http://localhost:4000/users/${userId}`, {\n      method: \"DELETE\"\n    })\n    .then( r => r.json())\n    .then(deletedUser => {\n      this.setState({\n        ...this.state\n      })\n      localStorage.clear()\n      this.props.routerProps.history.push(\"/\")\n    })\n  }\n  \n  render() {\n\n    let { bucketlist } = this.state\n\n    return (\n      <div>\n        <Image className=\"profile-cover-photo\" src=\"https://www.katikiesmykonos.com/wp-content/uploads/2019/09/drz_katikies-mykonos_q1a0346.jpg\" alt=\"\" />\n        <PhotoCard profile_info={this.state} deleteProfile={this.deleteProfile}/>\n        <BucketlistContainer bucketlist={bucketlist} routerProps={this.props.routerProps} deleteBucketItem={this.deleteBucketItem}/>\n      </div>\n    );\n  }\n\n}\n\nexport default ProfileContainer;\n"]},"metadata":{},"sourceType":"module"}